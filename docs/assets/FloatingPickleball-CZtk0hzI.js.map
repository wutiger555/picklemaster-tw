{"version":3,"file":"FloatingPickleball-CZtk0hzI.js","sources":["../../src/components/hero/FloatingPickleball.tsx"],"sourcesContent":["import { useRef } from 'react';\nimport { Canvas, useFrame } from '@react-three/fiber';\nimport { OrbitControls } from '@react-three/drei';\nimport * as THREE from 'three';\n\n// 正確的匹克球規格：\n// - 直徑：2.87-2.97 英吋 (約 7.3-7.5 cm)\n// - 26-40 個圓形孔洞\n// - 孔洞直徑約 0.97-1.02 cm\n// - 顏色：黃色為主（也有白色、橘色）\n\nfunction PickleballWithPaddle() {\n  const ballRef = useRef<THREE.Group>(null);\n  const paddleRef = useRef<THREE.Group>(null);\n\n  useFrame((state) => {\n    if (ballRef.current) {\n      // 球的旋轉和漂浮\n      ballRef.current.rotation.y += 0.01;\n      ballRef.current.position.y = Math.sin(state.clock.elapsedTime * 0.8) * 0.2 + 0.5;\n    }\n    if (paddleRef.current) {\n      // 球拍輕微擺動\n      paddleRef.current.rotation.z = Math.sin(state.clock.elapsedTime * 0.5) * 0.1;\n    }\n  });\n\n  // 生成均勻分布的孔洞位置（使用費波那契球面）\n  const generateHoles = (count: number) => {\n    const holes: THREE.Vector3[] = [];\n    const goldenRatio = (1 + Math.sqrt(5)) / 2;\n    const angleIncrement = Math.PI * 2 * goldenRatio;\n\n    for (let i = 0; i < count; i++) {\n      const t = i / count;\n      const inclination = Math.acos(1 - 2 * t);\n      const azimuth = angleIncrement * i;\n\n      const x = Math.sin(inclination) * Math.cos(azimuth);\n      const y = Math.sin(inclination) * Math.sin(azimuth);\n      const z = Math.cos(inclination);\n\n      holes.push(new THREE.Vector3(x, y, z));\n    }\n\n    return holes;\n  };\n\n  const holes = generateHoles(32); // 32個孔洞\n\n  return (\n    <group>\n      {/* 匹克球 */}\n      <group ref={ballRef} position={[0.5, 0.5, 0]}>\n        {/* 主球體 - 黃綠色 */}\n        <mesh>\n          <sphereGeometry args={[0.8, 32, 32]} />\n          <meshStandardMaterial\n            color=\"#c5ed37\"\n            roughness={0.4}\n            metalness={0.1}\n          />\n        </mesh>\n\n        {/* 孔洞效果 - 使用稍微凹陷的深色圓圈 */}\n        {holes.map((position, index) => (\n          <mesh\n            key={index}\n            position={position.clone().multiplyScalar(0.79)}\n            rotation={[\n              Math.atan2(Math.sqrt(position.x ** 2 + position.y ** 2), position.z),\n              Math.atan2(position.y, position.x),\n              0\n            ]}\n          >\n            <circleGeometry args={[0.12, 16]} />\n            <meshStandardMaterial\n              color=\"#333333\"\n              side={THREE.DoubleSide}\n            />\n          </mesh>\n        ))}\n      </group>\n\n      {/* 匹克球拍 */}\n      <group ref={paddleRef} position={[-1.5, 0, 0]} rotation={[0, 0.3, 0]}>\n        {/* 球拍面 */}\n        <mesh position={[0, 0, 0]}>\n          <boxGeometry args={[0.8, 1.1, 0.08]} />\n          <meshStandardMaterial\n            color=\"#2563eb\"\n            roughness={0.3}\n            metalness={0.2}\n          />\n        </mesh>\n\n        {/* 球拍邊框 */}\n        <mesh position={[0, 0, 0]}>\n          <boxGeometry args={[0.85, 1.15, 0.06]} />\n          <meshStandardMaterial\n            color=\"#1e40af\"\n            roughness={0.4}\n          />\n        </mesh>\n\n        {/* 球拍表面紋理線條 */}\n        {[...Array(8)].map((_, i) => (\n          <mesh key={`h-${i}`} position={[0, -0.5 + i * 0.14, 0.041]}>\n            <boxGeometry args={[0.75, 0.01, 0.005]} />\n            <meshStandardMaterial color=\"#3b82f6\" />\n          </mesh>\n        ))}\n        {[...Array(6)].map((_, i) => (\n          <mesh key={`v-${i}`} position={[-0.35 + i * 0.14, 0, 0.041]}>\n            <boxGeometry args={[0.01, 1.05, 0.005]} />\n            <meshStandardMaterial color=\"#3b82f6\" />\n          </mesh>\n        ))}\n\n        {/* 握把 */}\n        <mesh position={[0, -0.75, 0]} rotation={[Math.PI / 2, 0, 0]}>\n          <cylinderGeometry args={[0.06, 0.08, 0.5, 16]} />\n          <meshStandardMaterial\n            color=\"#1f2937\"\n            roughness={0.8}\n          />\n        </mesh>\n\n        {/* 握把纏帶 */}\n        {[...Array(8)].map((_, i) => (\n          <mesh\n            key={`grip-${i}`}\n            position={[0, -0.55 - i * 0.06, 0]}\n            rotation={[Math.PI / 2, 0, 0]}\n          >\n            <cylinderGeometry args={[0.065, 0.065, 0.02, 16]} />\n            <meshStandardMaterial color={i % 2 === 0 ? '#374151' : '#1f2937'} />\n          </mesh>\n        ))}\n      </group>\n    </group>\n  );\n}\n\nexport default function FloatingPickleball() {\n  return (\n    <div className=\"w-full h-64 md:h-80\">\n      <Canvas camera={{ position: [0, 0, 5], fov: 45 }}>\n        <ambientLight intensity={0.6} />\n        <directionalLight position={[5, 5, 5]} intensity={1} castShadow />\n        <pointLight position={[-5, -5, -5]} intensity={0.4} color=\"#60a5fa\" />\n        <spotLight position={[0, 5, 0]} intensity={0.5} angle={0.3} penumbra={1} />\n\n        <PickleballWithPaddle />\n\n        <OrbitControls\n          enableZoom={false}\n          enablePan={false}\n          autoRotate\n          autoRotateSpeed={1.5}\n          minPolarAngle={Math.PI / 3}\n          maxPolarAngle={Math.PI / 1.5}\n        />\n      </Canvas>\n    </div>\n  );\n}\n"],"names":["PickleballWithPaddle","ballRef","useRef","paddleRef","useFrame","state","holes","count","goldenRatio","angleIncrement","i","t","inclination","azimuth","y","z","THREE.Vector3","jsxs","jsx","position","index","THREE.DoubleSide","_","FloatingPickleball","Canvas","OrbitControls"],"mappings":"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"}